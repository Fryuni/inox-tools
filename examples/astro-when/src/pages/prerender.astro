---
import { whenAmI } from '@it-astro:when';

export const prerender = true;
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro When</title>
	</head>
	<body>
		<h1>Opting in to prerendering</h1>
		<p>Running on: {whenAmI}</p>
		<hr />
		<p>Other pages:</p>
		<ul>
			<li><a href="/">Home</a></li>
			<li><a href="/on-demand/">Opting out of prerendering</a></li>
		</ul>
		<hr />
		<p id="clientRender"></p>
	</body>
</html>

<script>
	import { whenAmI } from '@it-astro:when';

	document.getElementById('clientRender')!.textContent = `Client render: ${whenAmI}`;
</script>
